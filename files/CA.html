<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no"/>
    <script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=true"></script>
    <script type="text/javascript" src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
					
    <style type="text/css">


#selector {
	position: fixed;
	top: 323px;
	left: 1020px;
	height: 64px;
	width: 118px;
	color: white;
	text-align: right;
	margin-top:5px;
}

 
html, body, #map {
	left: 0;
  width: 95%;
  height: 100%;
  margin: 40;
  padding: 30;
}
 
.stations, .stations svg {
  position: absolute;
}
 
.stations svg {
  width: 60px;
  height: 20px;
  padding-right: 100px;
  font: 10px sans-serif;
}
 
.stations circle {
  fill: brown;
  stroke: black;
  stroke-width: 1.5px;
}
 
    </style>
  </head>
	


<!--
<script>
var e = document.getElementById("state");
var strUser = e.options[e.selectedIndex].text;
document.write(strUser);
</script>
-->

<body>
	<div id="selector">
		<form action="www.nba.com" method="post">
					
			<select name="state[]" id="state" onchange="refresh_state();" align="right"> 
			<option value="" selected>-- Select One --</option>
			<option value="AL">Alabama</option>
			<option value="AK">Alaska</option>
			<option value="AZ">Arizona</option>
			<option value="AR">Arkansas</option>
			<option value="CA">California</option>
			<option value="CO">Colorado</option>
			<option value="CT">Connecticut</option>
			<option value="DE">Delaware</option>
			<option value="DC">District of Columbia</option>
			<option value="FL">Florida</option>
			<option value="GA">Georgia</option>
			<option value="HI">Hawaii</option>
			<option value="ID">Idaho</option>
			<option value="IL">Illinois</option>
			<option value="IN">Indiana</option>
			<option value="IA">Iowa</option>
			<option value="KS">Kansas</option>
			<option value="KY">Kentucky</option>
			<option value="LA">Louisiana</option>
			<option value="ME">Maine</option>
			<option value="MD">Maryland</option>
			<option value="MA">Massachusetts</option>
			<option value="MI">Michigan</option>
			<option value="MN">Minnesota</option>
			<option value="MS">Mississippi</option>
			<option value="MO">Missouri</option>
			<option value="MT">Montana</option>
			<option value="NE">Nebraska</option>
			<option value="NV">Nevada</option>
			<option value="NH">New Hampshire</option>
			<option value="NJ">New Jersey</option>
			<option value="NM">New Mexico</option>
			<option value="NY">New York</option>
			<option value="NC">North Carolina</option>
			<option value="ND">North Dakota</option>
			<option value="OH">Ohio</option>
			<option value="OK">Oklahoma</option>
			<option value="OR">Oregon</option>
			<option value="PA">Pennsylvania</option>
			<option value="RI">Rhode Island</option>
			<option value="SC">South Carolina</option>
			<option value="SD">South Dakota</option>
			<option value="TN">Tennessee</option>
			<option value="TX">Texas</option>
			<option value="UT">Utah</option>
			<option value="VT">Vermont</option>
			<option value="VA">Virginia</option>
			<option value="WA">Washington</option>
			<option value="WV">West Virginia</option>
			<option value="WI">Wisconsin</option>
			<option value="WY">Wyoming</option>
			</select>  
		</form>
	</div>
    <div id="map"></div>

<script type="text/javascript">
				
	function refresh_state() {
		window.location.replace("./map5.html");
	}
	 
	// Create the Google Map…
	var map = new google.maps.Map(d3.select("#map").node(), {
	  zoom: 8,
	  center: new google.maps.LatLng(37.76487, -122.41948),
	  mapTypeId: google.maps.MapTypeId.TERRAIN
	});
	 
	// Load the station data. When the data comes back, create an overlay.
	d3.json("CA.json", function(data) {
	  var overlay = new google.maps.OverlayView();
	 
	  // Add the container when the overlay is added to the map.
	  overlay.onAdd = function() {
	    var layer = d3.select(this.getPanes().overlayLayer).append("div")
		.attr("class", "stations");
	 
	    // Draw each marker as a separate SVG element.
	    // We could use a single SVG, but what size would it have?
	    overlay.draw = function() {
	      var projection = this.getProjection(),
		  padding = 10;
	 
	      var marker = layer.selectAll("svg")
		  .data(d3.entries(data))
		  .each(transform) // update existing markers
		.enter().append("svg:svg")
		  .each(transform)
		  .attr("class", "marker");
	 
	      // Add a circle.
	      marker.append("svg:circle")
		  .attr("r", 4.5)
		  .attr("cx", padding)
		  .attr("cy", padding);
	 
	      // Add a label.
	      marker.append("svg:text")
		  .attr("x", padding + 7)
		  .attr("y", padding)
		  .attr("dy", ".31em")
		  .text(function(d) { return d.key; });
	 
	      function transform(d) {
		d = new google.maps.LatLng(d.value[1], d.value[0]);
		d = projection.fromLatLngToDivPixel(d);
		return d3.select(this)
		    .style("left", (d.x - padding) + "px")
		    .style("top", (d.y - padding) + "px");
	      }
	    };
	  };
	 
	  // Bind our overlay to the map…
	  overlay.setMap(map);
	});
 
    </script>
  </body>
</html>
